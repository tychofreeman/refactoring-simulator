<html>
	<head>
		<title>Refactoring Simulator</title>
		<style type="text/css">
			div {
				#display:table-cell;
                background-color:#ffffff;
			}
			div.container {
				display:inline
			}
			div.block {
				position:relative;
				left:40px;
                display:table-cell;
			}
			div.expression {
				display:inline-block;
			}
			div.statement {
			}
            div.selected {
				background-color:#ffaaff;
            }
		</style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                    $('.statement, .expression').mouseenter(function() {
                        $(this).closest('.selected').each(function(i) {
                            $(i).removeClass('selected');
                        });
                        $('div', this).addClass('selected');
                        $(this).addClass('selected');
                    }).mouseleave(function() {
                        var selectedAbove = $(this).closest('.selected').toArray();
                        console.log($.map(selectedAbove, function(e, i){return e.id}));
                        if( $($.grep(selectedAbove, function(e,i){ return i.id != this.id})).size() == 0 ) {
                            $(this).find('div').removeClass('selected');
                            $(this).removeClass('selected');
                        } else {
                        }
                    });
            });
        </script>
	</head>
	<body>
		<div class="container">
			<div class="method">
			std::string GetStatement()
			<br/>
			{
				<div class="container">
				<div class="block">
                    <div class="container"><div class="statement" id="qwer">Money amount = <div class="expression">0</div>;</div></div>
                    <div class="container"><div class="statement" id="asdf">
                        for( Rental::iterator i = <div class="expression">rentals.begin()</div>; i != <div class="expression">rentals.end()</div>; ++i)
						<br/>
						{
                        <br/>
						<div class="block">
                            <div class="container"><div class="statement" id="lkj">amount += <div class="expression"><div class="expression">5</div> + <div class="expression">i->GetAmount()</div></div>;</div></div>
                            <div class="container"><div class="statement" id="lkj2">amount += <div class="expression">5</div>;</div></div>
						</div>
						}
                </div></div>
				</div>
				</div>
			}
			</div>
		</div>
	</body>
</html>
